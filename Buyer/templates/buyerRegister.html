{% load static %}
<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>版权消费者购买系统</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="{% static 'buyer/css/font.css' %}">
	<link rel="stylesheet" href="{% static 'buyer/css/xadmin.css' %}">
    <script src="{% static 'jq/jquery.min.js' %}"></script>

</head>
<body class="login-bg">
    <div class="login layui-anim layui-anim-up">
        <div class="message">版权消费者注册</div>
        <div id="darkbannerwrap"></div>

        <form method="post" class="layui-form" action="">
            {% csrf_token %}
            <input name="username" placeholder="请输入邮箱"  type="text" lay-verify="required" class="layui-input" id = "email"/>
            <hr class="hr15">
            <div>
                <input name="code" lay-verify="required" placeholder="请输入验证码"  type="text" class="layui-input" id="code"/>
                <input class="huoqu" id="zphone" type="button" value=" 获取验证码 ">
            </div>
            <hr class="hr15">
            <input type="hidden" name = "register_valid" value = "register_valid">
            <hr class="hr15">
            <input name="userpass" lay-verify="required" placeholder="密码"  type="password" class="layui-input">
            <hr class="hr15">
            <input value="注册" lay-submit lay-filter="login" style="width:100%;" type="submit" id="submit">
            <hr class="hr20" >
        </form>
        <p style="text-align: center; color: red;">{{ result.data }}</p>
    </div>
</body>
</html>
 <script>
        $(
            function () {
                $("#zphone").click(
                    function () {
                        email = $("#email").val();
                        $.ajax(
                            {
                                url: "/buyer/sendmail?email="+email,
                                type: "get",
                                data: "",
                                success: function (data) {
                                    console.log(data)
                                },
                                error:function (error) {
                                    console.log(error)
                                }
                            }
                        )
                    }
                )
            }
        )
 </script>